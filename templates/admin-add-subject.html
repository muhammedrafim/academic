{% load static %}
<!DOCTYPE html>
<html>
    <head>

        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="">
        <title>Pathshala - Responsive Education Template</title>

        <!-- Styles -->
        <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" media="screen">
		 <link href="{% static 'css/chartist.min.css' %}" rel="stylesheet" media="screen">
		<link href="{% static 'css/owl.carousel.min.css' %}" rel="stylesheet" media="screen">
		<link href="{% static 'css/owl.theme.default.min.css' %}" rel="stylesheet" media="screen">
		<link href="{% static 'css/jquery.dataTables.min.css' %}" rel="stylesheet" media="screen">
		<link href="{% static 'css/responsive.dataTables.min.css' %}" rel="stylesheet" media="screen">
        <link href="{% static 'css/styledash.css' %}" rel="stylesheet" media="screen">

		<!-- Fonts -->
		<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'>
        <link href="{% static 'fonts/font-awesome/css/font-awesome.min.css' %}" rel="stylesheet" media="screen">
 <style> .add_subject_submit {
	color: #fff;
	background: #27AE60;
	display: inline-block;
	font-size: 13px;
	font-weight: 700;
	margin-top: 25px;
	padding: 10px 30px;
	text-decoration: none;
	border: 1px solid transparent;
                width: 150px;
}
.add_subject_submit:hover {
	color: #27AE60;
	background: transparent;
	border: 1px solid #27AE60;
}
        </style>
    </head>
    <body>
		<div class="row dashboard-top-nav">
			<div class="col-sm-3 logo">
				<h5><i class="fa fa-book"></i>PATHSHALA</h5>
			</div>
			<div class="col-sm-4 top-search">
				<div class="search">
					<i class="fa fa-search"></i>
					<input type="text" placeholder="Search">
				</div>
			</div>
			<div class="col-sm-5 notification-area">
				<ul class="top-nav-list">
					<li class="notification dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<i class="fa fa-bell-o"></i>
							<span class="badge nav-badge">3</span>
						</a>
						<ul class="dropdown-menu notification-list">
							<li>							
								<div class="list-msg">
									<div class="col-xs-2 icon clear-padding">
										<i class="fa fa-trophy"></i>
									</div>
									<div class="col-sm-10 desc">
										<h5><a href="#">Upcoming Sports Meet</a></h5>
										<h6><i class="fa fa-clock-o"></i> 10 min ago</h6>
									</div>
									<div class="clearfix"></div>
								</div>
							</li>
							<li>
								<div class="list-msg">
									<div class="col-xs-2 icon clear-padding">
										<i class="fa fa-paint-brush"></i>
									</div>
									<div class="col-sm-10 desc">
										<h5><a href="#">Fine art workshop</a></h5>
										<h6><i class="fa fa-clock-o"></i> 1 hour ago</h6>
									</div>
									<div class="clearfix"></div>
								</div>
							</li>
							<li>
								<div class="list-msg">
									<div class="col-xs-2 icon clear-padding">
										<i class="fa fa-birthday-cake"></i>
									</div>
									<div class="col-sm-10 desc">
										<h5><a href="#">Annual fest</a></h5>
										<h6><i class="fa fa-clock-o"></i> 1 day ago</h6>
									</div>
									<div class="clearfix"></div>
								</div>
							</li>
							<li>							
								<div class="list-msg">
									<div class="col-xs-2 icon clear-padding">
										<i class="fa fa-trophy"></i>
									</div>
									<div class="col-sm-10 desc">
										<h5><a href="#">Upcoming Sports Meet</a></h5>
										<h6><i class="fa fa-clock-o"></i> 10 min ago</h6>
									</div>
									<div class="clearfix"></div>
								</div>
							</li>
							<li>
								<div class="all-notifications">
									<a href="#">VIEW ALL NOTIFICATIONS</a>
								</div>
							</li>
						</ul>
					</li>
					<li class="message dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<i class="fa fa-comment-o"></i>
							<span class="badge nav-badge">5</span>
						</a>
						<ul class="dropdown-menu notification-list">
							<li>
								<div class="list-msg">
									<div class="col-xs-2 image clear-padding">
										<img src="assets/img/parent/parent2.jpg" alt="user" />
									</div>
									<div class="col-sm-10 desc">
										<h5><a href="#">John Doe</a></h5>
										<p>Lorem Ipsum is simply dummy text.</p>
										<h6><i class="fa fa-clock-o"></i> 1 day ago</h6>
									</div>
									<div class="clearfix"></div>
								</div>
							</li>
							<li>
								<div class="list-msg">
									<div class="col-xs-2 image clear-padding">
										<img src="assets/img/parent/parent1.jpg" alt="user" />
									</div>
									<div class="col-sm-10 desc">
										<h5><a href="#">Lenore Doe</a></h5>
										<p>Lorem Ipsum is simply dummy text.</p>
										<h6><i class="fa fa-clock-o"></i> 1 day ago</h6>
									</div>
									<div class="clearfix"></div>
								</div>
							</li>
							<li>
								<div class="all-notifications">
									<a href="#">VIEW ALL MESSAGES</a>
								</div>
							</li>
						</ul>
					</li>
					<li class="user dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<span><img src="assets/img/parent/parent2.jpg" alt="user">JOHN DOE<span class="caret"></span></span>
						</a>
						<ul class="dropdown-menu notification-list">
							<li>
								<a href="#"><i class="fa fa-cogs"></i> SETTINGS</a>
							</li>
							<li>
								<a href="#"><i class="fa fa-users"></i> USER PROFILE</a>
							</li>
							<li>
								<a href="#"><i class="fa fa-key"></i> CHANGE PASSWORD</a>
							</li>
							<li>
								<a href="#"><i class="fa fa-cogs"></i> SETTINGS</a>
							</li>
							<li>
								<div class="all-notifications">
									<a href="#">LOGOUT</a>
								</div>
							</li>
						</ul>
					</li>
				</ul>
			</div>
		</div>
        	
		<div class="parent-wrapper" id="outer-wrapper">
			<!-- SIDE MENU -->
			<div class="sidebar-nav-wrapper" id="sidebar-wrapper">
				<ul class="sidebar-nav">
					<li>
						<a href="admin-dashboard.html"><i class="fa fa-home menu-icon"></i> HOME</a>
					</li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<i class="fa fa-users menu-icon"></i> STUDENTS <span class="caret"></span>
						</a>
						<ul class="dropdown-menu">
							<li>							
								<a href="admin-add-student.html"><i class="fa fa-caret-right"></i>ADD</a>
							</li>
							<li>
								<a href="admin-student-list.html"><i class="fa fa-caret-right"></i>ALL STUDENT  </a>
							</li>
						</ul>
						<div class="clearfix"></div>
					</li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<i class="fa fa-user-secret menu-icon"></i> TEACHERS <span class="caret"></span>
						</a>
						<ul class="dropdown-menu">
							<li>							
								<a href="admin-add-teacher.html"><i class="fa fa-caret-right"></i>ADD</a>
							</li>
							<li>
								<a href="admin-teacher-list.html"><i class="fa fa-caret-right"></i>ALL TEACHER</a>
							</li>
						</ul>
						<div class="clearfix"></div>
					</li>
					<li>
						<a href="message.html"><i class="fa fa-envelope menu-icon"></i> MY MESSAGES</a>
					</li>
					<li>
						<a href="admin-add-announcement.html"><i class="fa fa-bullhorn menu-icon"></i> ANNOUNCEMENTS</a>
					</li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<i class="fa fa-file-o menu-icon"></i> CLASSES <span class="caret"></span>
						</a>
						<ul class="dropdown-menu">
							<li>							
								<a href="admin-add-class.html"><i class="fa fa-caret-right"></i>ADD CLASS</a>
							</li>
							<li>
								<a href="admin-add-section.html"><i class="fa fa-caret-right"></i>ADD SECTION</a>
							</li>
							<li>
								<a href="admin-add-class.html"><i class="fa fa-caret-right"></i>VIEW SECTIONS</a>
							</li>
							<li>
								<a href="admin-add-section.html"><i class="fa fa-caret-right"></i>VIEW CLASSES</a>
							</li>
						</ul>
						<div class="clearfix"></div>
					</li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<i class="fa fa-book menu-icon"></i> SUBJECTS <span class="caret"></span>
						</a>
						<ul class="dropdown-menu">
							<li>							
								<a href="admin-add-subject.html"><i class="fa fa-caret-right"></i>ADD</a>
							</li>
							<li>
								<a href="admin-add-subject.html"><i class="fa fa-caret-right"></i>VIEW SUBJECTS</a>
							</li>
						</ul>
						<div class="clearfix"></div>
					</li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<i class="fa fa-calendar menu-icon"></i> TIMETABLE <span class="caret"></span>
						</a>
						<ul class="dropdown-menu">
							<li>							
								<a href="admin-create-timetable.html"><i class="fa fa-caret-right"></i>CREATE</a>
							</li>
							<li>
								<a href="admin-class-timetable.html"><i class="fa fa-caret-right"></i>VIEW</a>
							</li>
						</ul>
						<div class="clearfix"></div>
					</li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<i class="fa fa-address-card menu-icon"></i> REPORTS <span class="caret"></span>
						</a>
						<ul class="dropdown-menu">
							<li>							
								<a href="teacher-attendence-report.html"><i class="fa fa-caret-right"></i>ATTENDENCE</a>
							</li>
							<li>
								<a href="teacher-marks-report.html"><i class="fa fa-caret-right"></i>MARKS</a>
							</li>
						</ul>
						<div class="clearfix"></div>
					</li>
				</ul>
			</div>
			
			<!-- MAIN CONTENT -->
			<div class="main-content" id="content-wrapper">
				<div class="container-fluid">
					<div class="row">
						<div class="col-lg-12 clear-padding-xs">
							<h5 class="page-title"><i class="fa fa-cogs"></i>ALL SUBJECTS</h5>
							<div class="section-divider"></div>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-12 clear-padding-xs">
							<div class="col-sm-4">
								<div class="dash-item first-dash-item">
									<h6 class="item-title"><i class="fa fa-plus-circle"></i>ADD SUBJECT</h6>
									<div class="inner-item">
                                        <form method="post" action="add_subject" enctype="multipart/form-data">
                                            {% csrf_token %}
                                            <div class="dash-form">
											<label class="clear-top-margin"><i class="fa fa-book"></i>NAME</label>
											<input type="text" name="name" placeholder="Basic Mathematics" />
											<label><i class="fa fa-code"></i>SUBJECT CODE</label>
											<input type="text" name="code" placeholder="MTH101" />
											<label><i class="fa fa-code"></i>CLASS</label>
											<select name="class">
												<option>-- Select --</option>
												{% for class in classes %}
                                                <option value="{{ class.id }}">{{ class.class_name }}</option>
                                                {% endfor %}
											</select>
                                            <label><i class="fa fa-code"></i>SECTION</label>
											<select name="section">
												<option>-- Select --</option>
												{% for class in sections %}
                                                <option value="{{ class.id }}">{{ class.section_name }}</option>
                                                {% endfor %}
											</select>
											<label><i class="fa fa-code"></i>TEACHER</label>
											<select name="teacher">
												<option>-- Select --</option>
                                                {% for teacher in teachers %}
												<option value="{{ teacher.id }}">{{ teacher.firstname }} {{ teacher.middlename }} {{ teacher.lastname }}</option>
                                                {% endfor %}
											</select>
											<label><i class="fa fa-info-circle"></i>DESCRIPTION</label>
											<textarea name="description" placeholder="Enter Description Here"></textarea>
											<div>
												<input class="add_subject_submit" type="submit" value="CREATE">
											</div>
										</div>
                                        </form>
										<div class="clearfix"></div>
									</div>
									<div class="clearfix"></div>
								</div>
							</div>
							<div class="col-sm-8">
								<div class="dash-item first-dash-item">
									<h6 class="item-title"><i class="fa fa-sliders"></i>ALL SUBJECTS</h6>
									<div class="inner-item">
										<table id="attendenceDetailedTable" class="display responsive nowrap" cellspacing="0" width="100%">
											<thead>
												<tr>
													<th><i class="fa fa-book"></i>NAME</th>
													<th><i class="fa fa-code"></i>CODE</th>
													<th><i class="fa fa-cogs"></i>CLASS</th>
                                                    <th><i class="fa fa-cogs"></i>SECTION</th>
													<th><i class="fa fa-user-secret"></i>TEACHER</th>
													<th><i class="fa fa-info-circle"></i>DESCRIPTION</th>
													<th><i class="fa fa-sliders"></i>ACTION</th>
												</tr>
											</thead>
											<tbody>
                                            {% for subject in subjects %}
												<tr>
													<td>{{ subject.name }}</td>
													<td>{{ subject.code }}</td>
													<td>{{ subject.subject_class.class_name }}</td>
                                                    <td>{{ subject.subject_section.section_name }}</td>
													<td>{{ subject.teacher.firstname }} {{ subject.teacher.middlename }} {{ subject.teacher.lastname }}</td>
													<td>{{ subject.description }}</td>
													<td class="action-link">
														<a class="edit" href="#" title="Edit" data-toggle="modal" data-target="#editsubject_{{ subject.id }}"><i class="fa fa-edit"></i></a>
														<a class="delete" href="#" title="Delete" data-toggle="modal" data-target="#deletesubject_{{ subject.id }}"><i class="fa fa-remove"></i></a>
													</td>
												</tr>
                                            {% endfor %}
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="menu-togggle-btn">
					<a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars"></i></a>
				</div>
				<div class="dash-footer col-lg-12">
					<p>Copyright Pathshala</p>
				</div>
				
				<!-- Delete Modal -->
               {% for subject in subjects %}
				<div id="deletesubject_{{ subject.id }}" class="modal fade" role="dialog">
					<div class="modal-dialog">
						<!-- Modal content-->
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">&times;</button>
								<h4 class="modal-title"><i class="fa fa-trash"></i>DELETE SUBJECT</h4>
							</div>
							<div class="modal-body">
                                <form method="post" enctype="multipart/form-data" action="delete_subject">
                                    {% csrf_token %}
                                    <div class="table-action-box">
                                        <input type="hidden" value="{{ subject.id }}" name="subject_id">
									<input class="add_subject_submit" type="submit" value="YES">
									<a href="#" class="cancel" data-dismiss="modal"><i class="fa fa-ban"></i>CLOSE</a>
								</div>
                                </form>
								<div class="clearfix"></div>
							</div>
						</div>
					</div>
				</div>
				{% endfor %}
				<!--Edit details modal-->

                {% for subject in subjects %}
				<div id="editsubject_{{ subject.id }}" class="modal fade" role="dialog">
					<div class="modal-dialog">
						<!-- Modal content-->
						<form action="edit_subject" method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                        <div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">&times;</button>
								<h4 class="modal-title"><i class="fa fa-edit"></i>EDIT SUBJECT DETAILS</h4>
							</div>
							<div class="modal-body dash-form">
								<div class="col-sm-3">
									<label class="clear-top-margin"><i class="fa fa-book"></i>NAME</label>
									<input type="text" name="name" placeholder="Name" value="{{ subject.name }}" />
								</div>
								<div class="col-sm-3">
									<label class="clear-top-margin"><i class="fa fa-code"></i>CODE</label>
									<input type="text" name="code" placeholder="Code" value="{{ subject.code }}" />
								</div>
								<div class="col-sm-3">
									<label class="clear-top-margin"><i class="fa fa-book"></i>CLASS</label>
									<select name="class">
										<option value="{{ subject.subject_class.id }}">{{ subject.subject_class.class_name }}</option>
                                        {% for class in classes %}
                                            <option value="{{ class.id }}">{{ class.class_name }}</option>
                                            {% endfor %}
									</select>
								</div>

								<div class="col-sm-3">
									<label class="clear-top-margin"><i class="fa fa-book"></i>SECTION</label>
									<select name="section">
										<option value="{{ subject.subject_section.id}}">{{ subject.subject_section.section_name }}</option>
                                        {% for class in sections %}
                                            <option value="{{ class.id }}">{{ class.section_name }}</option>
                                            {% endfor %}
									</select>
								</div>
                                <div class="clearfix"></div>
								<div class="col-sm-3">
									<label class="clear-top-margin"><i class="fa fa-user-secret"></i>TEACHER</label>
									<select name="teacher">
										<option value="{{ subject.teacher.id }}">{{ subject.teacher.firstname }} {{ subject.teacher.middlename }} {{ subject.teacher.lastname }}</option>
                                        {% for teacher in teachers %}
                                            <<option value="{{ teacher.id }}">{{ teacher.firstname }} {{ teacher.middlename }} {{ teacher.lastname }}</option>
										{% endfor %}
									</select>
								</div>
								<div class="clearfix"></div>
								<div class="col-sm-12">
									<label><i class="fa fa-info-circle"></i>DESCRIPTION</label>
									<textarea name="description" placeholder="Enter Description Here"></textarea>
								</div>
								<div class="clearfix"></div>
							</div>
							<div class="modal-footer">
								<div class="table-action-box">
									<input type="hidden"  value="{{ subject.id }}" name="subject_id">
                                    <input type="submit" value="SAVE" class="add_subject_submit">
									<a href="#" class="cancel" data-dismiss="modal"><i class="fa fa-ban"></i>CLOSE</a>
								</div>
							</div>
						</div>
                        </form>
					</div>
				</div>
            {% endfor %}
				
			</div>
		</div>
	
		<!-- Scripts -->
        <script src="{% static 'js/jQuery_v3_2_0.min.js' %}"></script>
		<script src="{% static 'js/jquery-ui.min.js' %}"></script>
        <script src="{% static 'js/bootstrap.min.js' %}"></script>
		<script src="{% static 'plugins/owl.carousel.min.js' %}"></script>
		<script src="{% static 'plugins/Chart.min.js' %}"></script>
		<script src="{% static 'plugins/jquery.dataTables.min.js' %}"></script>
		<script src="{% static 'plugins/dataTables.responsive.min.js' %}"></script>
        <script src="{% static 'js/jsdash.js' %}"></script>
		
    </body>
</html>